pub mod string;
pub mod stringhashmap;

use string::String;
use stringhashmap::StringHashMap_string as Map;

fn main(argc: i64, argv: **u8) i64 {
    var dict: Map = undefined;
    dict.init();

    var america: String = undefined;
    america.init("United States of America");
    var america_landmass: String = undefined;
    america_landmass.init("3,800,000 mi^2");
    var japan: String = undefined;
    japan.init("Japan");
    var japan_landmass: String =  undefined;
    japan_landmass.init("145,937 mi^2");

    dict.put(&america, &america_landmass);
    dict.put(&japan, &japan_landmass);

    var value: String = undefined;
    if (dict.get_ref(&america, &value)) {
        @printf("The landmass of \"%.*s\" is %.*s\n", america.len, america.data, value.len, value.data);
    } else {
        @printf("Did not find \"%.*s\"\n", america.len, america.data);
    }
}